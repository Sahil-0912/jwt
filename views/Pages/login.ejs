<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        background-image: url(img/technology-abstract-background-with-particle-lines.jpg);
        height: 100vh;
        width: 100%;
        background-repeat: no-repeat;
        background-size: cover;
      }

      .card {
        background: rgba(255, 255, 255, 0.1); /* Transparent White */
        backdrop-filter: blur(10px); /* Glassmorphism Effect */
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .form-label {
        color: white;
      }

      .form-control {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
      }

      .form-control::placeholder {
        color: rgba(255, 255, 255, 0.7);
      }

      .btn-primary {
        background-color: #ff0000; /* Rover Red */
        border-color: #cc0000;
      }

      .btn-primary:hover {
        background-color: #cc0000;
      }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4 shadow-lg" style="width: 350px;">
        <h3 class="text-center mb-3 text-white">Login</h3>
        <%if(message [0]) { %>
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <%= message[0] %>
          </div>
          <% } %>
        <form id="loginForm" method="post" action="/api/admin/login">
            <div class="mb-3">
                <label for="email" class="form-label">Email address</label>
                <input type="email" name="email" class="form-control" id="email" placeholder="Enter your email" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" name="password" class="form-control" id="password" placeholder="Enter your password" required>
            </div>
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">Login</button>
                <a href="/register" class="btn btn-secondary">Register</a>
                <a href="/UpdatePassword" class="btn btn-secondary">UpdatePassword</a>
                <button type="button" class="btn btn-warning" id="forgotPassword">Lost Password?</button>
            </div>
        </form>

        <form id="recoverForm" class="d-none" method="post" action="/api/admin/forgetpassword">
            <h3 class="text-center mb-3 text-white">Recover Password</h3>
            <div class="mb-3">
                <label for="recover-email" class="form-label">Enter your Email</label>
                <input type="email" name="email" class="form-control" id="recover-email" placeholder="Enter your email" required>
            </div>
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-info">Recover</button>
                <a href="/login" class="btn btn-secondary backToLogin">Back to Login</a>
            </div>
        </form>

       
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById("forgotPassword").addEventListener("click", function() {
            document.getElementById("loginForm").classList.add("d-none");
            document.getElementById("recoverForm").classList.remove("d-none");
        });

        document.getElementById("register").addEventListener("click", function() {
            document.getElementById("loginForm").classList.add("d-none");
            document.getElementById("registerForm").classList.remove("d-none");
        });

        document.querySelectorAll(".backToLogin").forEach(button => {
            button.addEventListener("click", function() {
                document.getElementById("recoverForm").classList.add("d-none");
                document.getElementById("registerForm").classList.add("d-none");
                document.getElementById("loginForm").classList.remove("d-none");
            });
        });
    </script>
</body>
</html>
